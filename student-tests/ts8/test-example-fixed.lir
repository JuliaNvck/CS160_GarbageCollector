funptr bar: &([[int]]) -> int
funptr foo: &([[int]]) -> int

fn bar(p:[[int]]) -> int {
let _const_0:int, _const_1:int, _const_41:int, _const_42:int, _inner4:&[int], _tmp1:[[int]], _tmp2:int, _tmp3:[int], i:int

entry:
  _const_0 = $const 0
  _const_1 = $const 1
  _const_41 = $const 41
  _const_42 = $const 42
  p = $alloc_array _const_41 [int]
  $jump lbl1

lbl1:
  _tmp2 = $cmp lt i _const_41
  $branch _tmp2 lbl2 lbl3

lbl2:
  _tmp3 = $alloc_array _const_41 int
  _inner4 = $gep p i [true]
  $store _inner4 _tmp3
  _tmp3 = $copy __NULL
  _inner4 = $gep p i [true]
  $store _inner4 __NULL
  _tmp2 = $arith add i _const_1
  i = $copy _tmp2
  $jump lbl1

lbl3:
  _tmp3 = $alloc_array _const_42 int
  _inner4 = $gep p _const_0 [true]
  $store _inner4 _tmp3
  _tmp3 = $copy __NULL
  $ret _const_0
}

fn foo(p:[[int]]) -> int {
let _tmp1:int

entry:
  _tmp1 = $call bar(p)
  $ret _tmp1
}

fn main() -> int {
let _const_0:int, _const_1:int, _const_40:int, _const_41:int, _inner3:&[int], _tmp1:[[int]], _tmp2:&int, _tmp4:[int], _tmp5:int, _tmp6:int, _tmp7:int, _tmp8:int, a:[[int]], b:[[int]], c:&int, i:int

entry:
  _const_0 = $const 0
  _const_1 = $const 1
  _const_40 = $const 40
  _const_41 = $const 41
  a = $alloc_array _const_41 [int]
  b = $alloc_array _const_41 [int]
  c = $alloc_single int
  _inner3 = $gep a _const_40 [true]
  _tmp4 = $load _inner3
  _tmp5 = $cmp ne _tmp4 __NULL
  _tmp4 = $copy __NULL
  _tmp6 = $copy _tmp5
  $branch _tmp6 lbl5 lbl4

lbl1:
  $ret _const_0

lbl10:
  _tmp6 = $call foo(a)
  $ret _tmp6

lbl2:
  $jump lbl3

lbl3:
  $jump lbl8

lbl4:
  _inner3 = $gep b _const_40 [true]
  _tmp4 = $load _inner3
  _tmp5 = $cmp ne _tmp4 __NULL
  _tmp4 = $copy __NULL
  _tmp7 = $copy _tmp5
  $branch _tmp7 lbl7 lbl6

lbl5:
  $branch _tmp6 lbl1 lbl2

lbl6:
  _tmp5 = $load c
  _tmp8 = $cmp ne _tmp5 _const_0
  _tmp7 = $copy _tmp8
  $jump lbl7

lbl7:
  _tmp6 = $copy _tmp7
  $jump lbl5

lbl8:
  _tmp6 = $cmp lt i _const_41
  $branch _tmp6 lbl9 lbl10

lbl9:
  _tmp4 = $alloc_array _const_41 int
  _inner3 = $gep a i [true]
  $store _inner3 _tmp4
  _tmp4 = $copy __NULL
  _inner3 = $gep a i [true]
  _tmp4 = $load _inner3
  _inner3 = $gep b i [true]
  $store _inner3 _tmp4
  _tmp4 = $copy __NULL
  _tmp6 = $arith add i _const_1
  i = $copy _tmp6
  $jump lbl8
}

